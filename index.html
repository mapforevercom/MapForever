<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MapForever</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="map-container">
    <img src="map.png" id="map" alt="Map">
  </div>

  <!-- Panzoom JS -->
  <script src="https://unpkg.com/@panzoom/panzoom/dist/panzoom.min.js"></script>

  <!-- Initialize Panzoom -->
  <script>
    const map = document.getElementById('map');

    map.onload = () => {
      // Initialize Panzoom
      const panzoom = Panzoom(map, { maxScale: 5, minScale: 1, contain: 'outside', cursor: 'grab' });

      // Only drag when mouse is pressed
      let isDragging = false;
      map.parentElement.addEventListener('mousedown', () => { isDragging = true; });
      map.parentElement.addEventListener('mouseup', () => { isDragging = false; });
      map.parentElement.addEventListener('mouseleave', () => { isDragging = false; });

      map.parentElement.addEventListener('mousemove', (e) => {
        if (isDragging) panzoom.pan(e);
      });

      // Enable wheel zoom
      map.parentElement.addEventListener('wheel', panzoom.zoomWithWheel);
    };
  </script>

  <!-- Pixel blocks script -->
  <script src="script.js"></script>
</body>
</html>

